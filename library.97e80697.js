!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in n){var i=n[e];delete n[e];var l={id:e,exports:{}};return t[e]=l,i.call(l.exports,l,l.exports),l.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequired7c6=i);var l=i("5LGuc"),a=i("1RLhk");const r=document.querySelector(".card-list"),c=document.querySelector(".watched"),s=document.querySelector(".queue");function o(){const e=localStorage.getItem("watchedList"),t=JSON.parse(e);if(c.classList.add("header-library__btn__is-active"),s.classList.remove("header-library__btn__is-active"),r.innerHTML="","[]"===e||null===e){const e='<div class="card-text-no-film"><p>No watched movies added</p></div>';r.innerHTML=e}else u(t)}function d(){const e=localStorage.getItem("queueList"),t=JSON.parse(e);if(c.classList.remove("header-library__btn__is-active"),s.classList.add("header-library__btn__is-active"),r.innerHTML="","[]"===e||null===e){const e='<p class="card-text-no-film">No movie added to queue</p>';r.innerHTML=e}else u(t)}function u(e){const t=e.map((e=>{const{id:t,title:n,poster_path:i,genres:r,vote_average:c,release_date:s}=e;let o=(0,a.getRealeseYear)("",s);""!==s&&void 0!==s||(o="Year:N/A");let d=l.renderPoster+i;null===i&&(d="https://i.postimg.cc/MTBLYYMP/poster-not-available.jpg");const u=(0,a.textSlicer)(n,30),h=function(e){let t=[];for(let n=0;n<e.length;n+=1)t.push(e[n].id);return t}(r);return`\n            <li class="card-item" tabindex="0" data-id="${t}">\n            <img  class="card-item__img" src="${d}"\n            alt="${n}" loading="lazy" data-id="${t}"/>\n            <h2 class="card-item__title"  data-id="${t}">${u}</h2>\n            <p class="card-item__desc"> ${(0,a.getGenres)(h).join(", ").slice(0,27)} | ${o} | <span class="vote-library">${c.toFixed(1)}</span> </p>\n            </li>\n            `})).join("");r.insertAdjacentHTML("beforeend",t)}function h(e){1==JSON.parse(localStorage.getItem("auth")).auth?e():function(){const e=document.querySelector("[watch-button]"),t=document.querySelector("[queue-button]");e.setAttribute("disabled",""),t.setAttribute("disabled","")}()}h(o);document.querySelector(".modal-film-backdrop").addEventListener("click",(function(){if(c.classList.value.includes("header-library__btn__is-active")){const e=localStorage.getItem("watchedList"),t=JSON.parse(e);0!==r.children.length&&1!==r.children.length&&t.length===r.children.length||o()}else if(s.classList.value.includes("header-library__btn__is-active")){const e=localStorage.getItem("queueList"),t=JSON.parse(e);0!==r.children.length&&1!==r.children.length&&t.length===r.children.length||d()}})),c.addEventListener("click",(e=>{console.log("+"),h(o)})),s.addEventListener("click",(e=>{console.log("+"),h(d)}))}();
//# sourceMappingURL=library.97e80697.js.map
